from schemas.predefined import *


get_block_header = Map({
    'previous': TransactionId(),
    'extensions': Array(
        ArrayStrict(Str(), Any()),
    ),
    'timestamp': Date(),
    'transaction_merkle_root': TransactionId(),
    'witness': AccountName(),
})

get_config = Map({
    'HBD_SYMBOL': LegacyAssetHbd.Symbol(),
    'HIVE_100_PERCENT': Int(),
    'HIVE_1_BASIS_POINT': Int(),
    'HIVE_1_PERCENT': Int(),
    'HIVE_ACCOUNT_RECOVERY_REQUEST_EXPIRATION_PERIOD': Int(),
    'HIVE_ACCOUNT_SUBSIDY_PRECISION': Int(),
    'HIVE_ACTIVE_CHALLENGE_COOLDOWN': Int(),
    'HIVE_ACTIVE_CHALLENGE_FEE': LegacyAssetHive(),
    'HIVE_ADDRESS_PREFIX': Str(pattern=r'^(?:STM|TST)$'),
    'HIVE_APR_PERCENT_MULTIPLY_PER_BLOCK': Int(),
    'HIVE_APR_PERCENT_MULTIPLY_PER_HOUR': Int(),
    'HIVE_APR_PERCENT_MULTIPLY_PER_ROUND': Int(),
    'HIVE_APR_PERCENT_SHIFT_PER_BLOCK': Int(),
    'HIVE_APR_PERCENT_SHIFT_PER_HOUR': Int(),
    'HIVE_APR_PERCENT_SHIFT_PER_ROUND': Int(),
    'HIVE_BANDWIDTH_AVERAGE_WINDOW_SECONDS': Int(),
    'HIVE_BANDWIDTH_PRECISION': Int(),
    'HIVE_BENEFICIARY_LIMIT': Int(),
    'HIVE_BLOCKCHAIN_HARDFORK_VERSION': HardforkVersion(),
    'HIVE_BLOCKCHAIN_PRECISION': Int(),
    'HIVE_BLOCKCHAIN_PRECISION_DIGITS': Int(),
    'HIVE_BLOCKCHAIN_VERSION': HardforkVersion(),
    'HIVE_BLOCKS_PER_DAY': Int(),
    'HIVE_BLOCKS_PER_HOUR': Int(),
    'HIVE_BLOCKS_PER_YEAR': Int(),
    'HIVE_BLOCK_GENERATION_POSTPONED_TX_LIMIT': Int(),
    'HIVE_BLOCK_INTERVAL': Int(),
    'HIVE_CASHOUT_WINDOW_SECONDS': Int(),
    'HIVE_CASHOUT_WINDOW_SECONDS_PRE_HF12': Int(),
    'HIVE_CASHOUT_WINDOW_SECONDS_PRE_HF17': Int(),
    'HIVE_CHAIN_ID': Hex(),
    'HIVE_COLLATERALIZED_CONVERSION_DELAY': Int(),
    'HIVE_COLLATERALIZED_CONVERSION_FEE': Int(),
    'HIVE_COMMENT_REWARD_FUND_NAME': Str(),
    'HIVE_COMMENT_TITLE_LIMIT': Int(),
    'HIVE_CONTENT_APR_PERCENT': Int(),
    'HIVE_CONTENT_CONSTANT_HF0': Int(),
    'HIVE_CONTENT_CONSTANT_HF21': Int(),
    'HIVE_CONTENT_REWARD_PERCENT_HF16': Int(),
    'HIVE_CONTENT_REWARD_PERCENT_HF21': Int(),
    'HIVE_CONVERSION_COLLATERAL_RATIO': Int(),
    'HIVE_CONVERSION_DELAY': Int(),
    'HIVE_CONVERSION_DELAY_PRE_HF_16': Int(),
    'HIVE_CREATE_ACCOUNT_DELEGATION_RATIO': Int(),
    'HIVE_CREATE_ACCOUNT_DELEGATION_TIME': Int(),
    'HIVE_CREATE_ACCOUNT_WITH_HIVE_MODIFIER': Int(),
    'HIVE_CURATE_APR_PERCENT': Int(),
    'HIVE_CUSTOM_OP_DATA_MAX_LENGTH': Int(),
    'HIVE_CUSTOM_OP_ID_MAX_LENGTH': Int(),
    'HIVE_DAILY_PROPOSAL_MAINTENANCE_PERIOD': Int(),
    'HIVE_DECAY_BACKSTOP_PERCENT': Int(),
    'HIVE_DEFAULT_ACCOUNT_SUBSIDY_BUDGET': Int(),
    'HIVE_DEFAULT_ACCOUNT_SUBSIDY_DECAY': Int(),
    'HIVE_DEFAULT_HBD_INTEREST_RATE': Int(),
    'HIVE_DEFAULT_HF_9_COMPROMISED_ACCOUNTS_PUBLIC_KEY_STR': PublicKey(),
    'HIVE_DELAYED_VOTING_INTERVAL_SECONDS': Int(),
    'HIVE_DELAYED_VOTING_TOTAL_INTERVAL_SECONDS': Int(),
    'HIVE_DELEGATION_RETURN_PERIOD_HF0': Int(),
    'HIVE_DELEGATION_RETURN_PERIOD_HF20': Int(),
    'HIVE_DOWNVOTE_POOL_PERCENT_HF21': Int(),
    'HIVE_EARLY_VOTING_SECONDS_HF25': Int(),
    'HIVE_ENABLE_SMT': Bool(),
    'HIVE_EQUIHASH_K': Int(),
    'HIVE_EQUIHASH_N': Int(),
    'HIVE_FEED_HISTORY_WINDOW': Int(),
    'HIVE_FEED_HISTORY_WINDOW_PRE_HF_16': Int(),
    'HIVE_FEED_INTERVAL_BLOCKS': Int(),
    'HIVE_GENESIS_TIME': Date(),
    'HIVE_GLOBAL_REMOVE_THRESHOLD': Int(),
    'HIVE_GOVERNANCE_VOTE_EXPIRATION_PERIOD': Int(),
    'HIVE_HARDFORK_REQUIRED_WITNESSES': Int(),
    'HIVE_HBD_HARD_LIMIT': Int(),
    'HIVE_HBD_HARD_LIMIT_PRE_HF26': Int(),
    'HIVE_HBD_INIT_SUPPLY': Int(),
    'HIVE_HBD_INTEREST_COMPOUND_INTERVAL_SEC': Int(),
    'HIVE_HBD_START_PERCENT_HF14': Int(),
    'HIVE_HBD_START_PERCENT_HF20': Int(),
    'HIVE_HBD_START_PERCENT_HF26': Int(),
    'HIVE_HBD_STOP_PERCENT_HF14': Int(),
    'HIVE_HBD_STOP_PERCENT_HF20': Int(),
    'HIVE_HBD_STOP_PERCENT_HF26': Int(),
    'HIVE_HF21_CONVERGENT_LINEAR_RECENT_CLAIMS': Int(),
    'HIVE_HF_9_COMPROMISED_ACCOUNTS_PUBLIC_KEY_STR': PublicKey(),
    'HIVE_INFLATION_NARROWING_PERIOD': Int(),
    'HIVE_INFLATION_RATE_START_PERCENT': Int(),
    'HIVE_INFLATION_RATE_STOP_PERCENT': Int(),
    'HIVE_INITIAL_VOTE_POWER_RATE': Int(),
    'HIVE_INIT_MINER_NAME': AccountName(),
    'HIVE_INIT_PUBLIC_KEY': PublicKey(),
    'HIVE_INIT_PUBLIC_KEY_STR': PublicKey(),
    'HIVE_INIT_SUPPLY': Int(),
    'HIVE_INIT_TIME': Date(),
    'HIVE_IRREVERSIBLE_THRESHOLD': Int(),
    'HIVE_LIQUIDITY_APR_PERCENT': Int(),
    'HIVE_LIQUIDITY_REWARD_BLOCKS': Int(),
    'HIVE_LIQUIDITY_REWARD_PERIOD_SEC': Int(),
    'HIVE_LIQUIDITY_TIMEOUT_SEC': Int(),
    'HIVE_MAX_ACCOUNT_CREATION_FEE': Int(),
    'HIVE_MAX_ACCOUNT_NAME_LENGTH': Int(),
    'HIVE_MAX_ACCOUNT_WITNESS_VOTES': Int(),
    'HIVE_MAX_ASSET_WHITELIST_AUTHORITIES': Int(),
    'HIVE_MAX_AUTHORITY_MEMBERSHIP': Int(),
    'HIVE_MAX_BLOCK_SIZE': Int(),
    'HIVE_MAX_CASHOUT_WINDOW_SECONDS': Int(),
    'HIVE_MAX_COMMENT_DEPTH': Int(),
    'HIVE_MAX_COMMENT_DEPTH_PRE_HF17': Int(),
    'HIVE_MAX_CONSECUTIVE_RECURRENT_TRANSFER_FAILURES': Int(),
    'HIVE_MAX_FEED_AGE_SECONDS': Int(),
    'HIVE_MAX_INSTANCE_ID': Int(),
    'HIVE_MAX_LIMIT_ORDER_EXPIRATION': Int(),
    'HIVE_MAX_MEMO_SIZE': Int(),
    'HIVE_MAX_MINER_WITNESSES_HF0': Int(),
    'HIVE_MAX_MINER_WITNESSES_HF17': Int(),
    'HIVE_MAX_OPEN_RECURRENT_TRANSFERS': Int(),
    'HIVE_MAX_PENDING_TRANSFERS': Int(),
    'HIVE_MAX_PERMLINK_LENGTH': Int(),
    'HIVE_MAX_PROXY_RECURSION_DEPTH': Int(),
    'HIVE_MAX_RATION_DECAY_RATE': Int(),
    'HIVE_MAX_RECURRENT_TRANSFERS_PER_BLOCK': Int(),
    'HIVE_MAX_RECURRENT_TRANSFER_END_DATE': Int(),
    'HIVE_MAX_RESERVE_RATIO': Int(),
    'HIVE_MAX_RUNNER_WITNESSES_HF0': Int(),
    'HIVE_MAX_RUNNER_WITNESSES_HF17': Int(),
    'HIVE_MAX_SATOSHIS': Int(),
    'HIVE_MAX_SHARE_SUPPLY': Int(),
    'HIVE_MAX_SIG_CHECK_ACCOUNTS': Int(),
    'HIVE_MAX_SIG_CHECK_DEPTH': Int(),
    'HIVE_MAX_TIME_UNTIL_EXPIRATION': Int(),
    'HIVE_MAX_TRANSACTION_SIZE': Int(),
    'HIVE_MAX_UNDO_HISTORY': Int(),
    'HIVE_MAX_URL_LENGTH': Int(),
    'HIVE_MAX_VOTED_WITNESSES_HF0': Int(),
    'HIVE_MAX_VOTED_WITNESSES_HF17': Int(),
    'HIVE_MAX_VOTE_CHANGES': Int(),
    'HIVE_MAX_WITHDRAW_ROUTES': Int(),
    'HIVE_MAX_WITNESSES': Int(),
    'HIVE_MAX_WITNESS_URL_LENGTH': Int(),
    'HIVE_MID_VOTING_SECONDS_HF25': Int(),
    'HIVE_MINER_ACCOUNT': Str(),
    'HIVE_MINER_PAY_PERCENT': Int(),
    'HIVE_MINING_REWARD': LegacyAssetHive(),
    'HIVE_MINING_TIME': Date(),
    'HIVE_MIN_ACCOUNT_CREATION_FEE': Int(),
    'HIVE_MIN_ACCOUNT_NAME_LENGTH': Int(),
    'HIVE_MIN_BLOCK_SIZE': Int(),
    'HIVE_MIN_BLOCK_SIZE_LIMIT': Int(),
    'HIVE_MIN_COMMENT_EDIT_INTERVAL': Int(),
    'HIVE_MIN_CONTENT_REWARD': LegacyAssetHive(),
    'HIVE_MIN_CURATE_REWARD': LegacyAssetHive(),
    'HIVE_MIN_FEEDS': Int(),
    'HIVE_MIN_LIQUIDITY_REWARD': LegacyAssetHive(),
    'HIVE_MIN_LIQUIDITY_REWARD_PERIOD_SEC': Int(),
    'HIVE_MIN_PAYOUT_HBD': LegacyAssetHbd(),
    'HIVE_MIN_PERMLINK_LENGTH': Int(),
    'HIVE_MIN_POW_REWARD': LegacyAssetHive(),
    'HIVE_MIN_PRODUCER_REWARD': LegacyAssetHive(),
    'HIVE_MIN_RECURRENT_TRANSFERS_RECURRENCE': Int(),
    'HIVE_MIN_REPLY_INTERVAL': Int(),
    'HIVE_MIN_REPLY_INTERVAL_HF20': Int(),
    'HIVE_MIN_ROOT_COMMENT_INTERVAL': Int(),
    'HIVE_MIN_TRANSACTION_EXPIRATION_LIMIT': Int(),
    'HIVE_MIN_TRANSACTION_SIZE_LIMIT': Int(),
    'HIVE_MIN_UNDO_HISTORY': Int(),
    'HIVE_MIN_VOTE_INTERVAL_SEC': Int(),
    'HIVE_NULL_ACCOUNT': AccountName(),
    'HIVE_NUM_INIT_MINERS': Int(),
    'HIVE_ONE_DAY_SECONDS': Int(),
    'HIVE_OWNER_AUTH_HISTORY_TRACKING_START_BLOCK_NUM': Int(),
    'HIVE_OWNER_AUTH_RECOVERY_PERIOD': Int(),
    'HIVE_OWNER_CHALLENGE_COOLDOWN': Int(),
    'HIVE_OWNER_CHALLENGE_FEE': LegacyAssetHive(),
    'HIVE_OWNER_UPDATE_LIMIT': Int(),
    'HIVE_PENDING_TRANSACTION_EXECUTION_LIMIT': Int(),
    'HIVE_POST_AVERAGE_WINDOW': Int(),
    'HIVE_POST_REWARD_FUND_NAME': Str(),
    'HIVE_POST_WEIGHT_CONSTANT': Int(),
    'HIVE_POW_APR_PERCENT': Int(),
    'HIVE_PRODUCER_APR_PERCENT': Int(),
    'HIVE_PROPOSAL_CONVERSION_RATE': Int(),
    'HIVE_PROPOSAL_FEE_INCREASE_AMOUNT': Int(),
    'HIVE_PROPOSAL_FEE_INCREASE_DAYS': Int(),
    'HIVE_PROPOSAL_FEE_INCREASE_DAYS_SEC': Int(),
    'HIVE_PROPOSAL_FUND_PERCENT_HF0': Int(),
    'HIVE_PROPOSAL_FUND_PERCENT_HF21': Int(),
    'HIVE_PROPOSAL_MAINTENANCE_CLEANUP': Int(),
    'HIVE_PROPOSAL_MAINTENANCE_PERIOD': Int(),
    'HIVE_PROPOSAL_MAX_IDS_NUMBER': Int(),
    'HIVE_PROPOSAL_SUBJECT_MAX_LENGTH': Int(),
    'HIVE_PROXY_TO_SELF_ACCOUNT': Str(),
    'HIVE_RD_DECAY_DENOM_SHIFT': Int(),
    'HIVE_RD_MAX_BUDGET': Int(),
    'HIVE_RD_MAX_BUDGET_1': Int(),
    'HIVE_RD_MAX_BUDGET_2': Int(),
    'HIVE_RD_MAX_BUDGET_3': Int(),
    'HIVE_RD_MAX_DECAY': Int(),
    'HIVE_RD_MAX_DECAY_BITS': Int(),
    'HIVE_RD_MAX_POOL_BITS': Int(),
    'HIVE_RD_MIN_BUDGET': Int(),
    'HIVE_RD_MIN_DECAY': Int(),
    'HIVE_RD_MIN_DECAY_BITS': Int(),
    'HIVE_RECENT_RSHARES_DECAY_TIME_HF17': Int(),
    'HIVE_RECENT_RSHARES_DECAY_TIME_HF19': Int(),
    'HIVE_REDUCED_VOTE_POWER_RATE': Int(),
    'HIVE_REVERSE_AUCTION_WINDOW_SECONDS_HF20': Int(),
    'HIVE_REVERSE_AUCTION_WINDOW_SECONDS_HF21': Int(),
    'HIVE_REVERSE_AUCTION_WINDOW_SECONDS_HF25': Int(),
    'HIVE_REVERSE_AUCTION_WINDOW_SECONDS_HF6': Int(),
    'HIVE_ROOT_POST_PARENT': Str(),
    'HIVE_SAVINGS_WITHDRAW_REQUEST_LIMIT': Int(),
    'HIVE_SAVINGS_WITHDRAW_TIME': Int(),
    'HIVE_SECONDS_PER_YEAR': Int(),
    'HIVE_SECOND_CASHOUT_WINDOW': Int(),
    'HIVE_SOFT_MAX_COMMENT_DEPTH': Int(),
    'HIVE_START_MINER_VOTING_BLOCK': Int(),
    'HIVE_START_VESTING_BLOCK': Int(),
    'HIVE_SYMBOL': LegacyAssetHive.Symbol(),
    'HIVE_TEMP_ACCOUNT': Str(),
    'HIVE_TREASURY_ACCOUNT': AccountName(),
    'HIVE_TREASURY_FEE': Int(),
    'HIVE_UPVOTE_LOCKOUT_HF17': Int(),
    'HIVE_UPVOTE_LOCKOUT_HF7': Int(),
    'HIVE_UPVOTE_LOCKOUT_SECONDS': Int(),
    'HIVE_VESTING_FUND_PERCENT_HF16': Int(),
    'HIVE_VESTING_WITHDRAW_INTERVALS': Int(),
    'HIVE_VESTING_WITHDRAW_INTERVALS_PRE_HF_16': Int(),
    'HIVE_VESTING_WITHDRAW_INTERVAL_SECONDS': Int(),
    'HIVE_VIRTUAL_SCHEDULE_LAP_LENGTH': Int(),
    'HIVE_VIRTUAL_SCHEDULE_LAP_LENGTH2': Int(),
    'HIVE_VOTE_DUST_THRESHOLD': Int(),
    'HIVE_VOTING_MANA_REGENERATION_SECONDS': Int(),
    'HIVE_WITNESS_SUBSIDY_BUDGET_PERCENT': Int(),
    'HIVE_WITNESS_SUBSIDY_DECAY_PERCENT': Int(),
    'IS_TEST_NET': Bool(),
    'NEW_HIVE_TREASURY_ACCOUNT': AccountName(),
    'OBSOLETE_TREASURY_ACCOUNT': AccountName(),
    'OLD_CHAIN_ID': Hex(),
    'VESTS_SYMBOL': LegacyAssetVests.Symbol(),
})


find_recurrent_transfers = Array(
    Map({
        'amount': LegacyAssetHive(),
        'consecutive_failures': Int(),
        'from': AccountName(),
        'id': Int(),
        'memo': Str(),
        'recurrence': Int(),
        'remaining_executions': Int(),
        'to': AccountName(),
        'trigger_date': Date(),
    })
)

# This method is not validated in this test. But its schema is needed to validate `get_config` method.
get_dynamic_global_properties = Any()

list_proposal_votes = Array(
    Map({
        'id': Int(),
        'voter': AccountName(),
        'proposal': Map({
            'id': Int(),
            'proposal_id': Int(),
            'creator': Str(),
            'receiver': Str(),
            'start_date': Date(),
            'end_date': Date(),
            'daily_pay': LegacyAssetHbd(),
            'subject': Str(),
            'permlink': Str(),
            'total_votes': Int(),
            'status': Str(),
        }),
    })
)
